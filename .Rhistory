p
p
ggsave(filename = paste0("../pic/OK_",2,".png"),
dpi = 150)
p <- ggplot() +
geom_polygon(data = merge_result,
aes(x=long,y=lat,group=group, fill = week1))+
scale_fill_gradient(low = 'white',high='orange')
p
p
ggsave(filename = paste0("../pic/OK_",2,
width = 7,height=7,".png"),
dpi = 150)
p <- ggplot() +
geom_polygon(data = merge_result,
aes(x=long,y=lat,group=group, fill = week1))+
scale_fill_gradient(low = 'white',high='orange')
p
p
ggsave(filename = paste0("../pic/OK_",2),
width = 7,height=7,".png"),
ggsave(filename = paste0("../pic/OK_",2),
width = 7,height=7,".png")
ggsave(filename = paste0("../pic/OK_",2),
width = 7,height=7,".png", dpi = 150)
p
p
ggsave(filename = paste0("../pic/OK_",2),
width = 7,height=7,".png", dpi = 150)
p
ggsave(filename = paste0("../pic/OK_",1),
width = 7,height=7,".png", dpi = 150)
ggsave(filename = paste0("../pic/OK_",1),
width =8,height=8,".png", dpi = 150)
p
p
ggsave(filename = paste0("../pic/OK_",1),
width =8,height=8,".png", dpi = 150)
ggsave(filename = paste0("../pic/OK_",1),".png", dpi = 150)
ggsave(filename = paste0("../pic/OK_",1), dpi = 150)
p
ggsave(filename = paste0("../pic/OK_",1,".png"),
width = 7,height=7,dpi = 150)
p <- ggplot() +
geom_polygon(data = merge_result,
aes(x=long,y=lat,group=group, fill = week2))+
scale_fill_gradient(low = 'white',high='orange')
p
ggsave(filename = paste0("../pic/OK_",2,".png"),
width = 7,height=7,dpi = 150)
list.files(path = "../pic/", pattern = "*.png", full.names = T) %>%
map(image_read) %>%
image_join() %>%
image_animate(fps=2) %>%
image_write("A1.gif")
list.files(path = "../pic/", pattern = "*.png", full.names = T)
list.files(path = "../pic/", pattern = "*.png", full.names = T) %>%
image_join() %>%
image_animate(fps=2) %>%
image_write("A1.gif")
list.files(path = "../pic/", pattern = "*.png", full.names = T) %>%
image_join(.) %>%
image_animate(fps=2) %>%
image_write("A1.gif")
list.files(path = "../pic/", pattern = "*.png", full.names = T) %>%
map(image_read)
list.files(path = "../pic/", pattern = "*.png", full.names = T) %>%
map(image_read) %>%
image_join()
list.files(path = "../pic/", pattern = "*.png", full.names = T) %>%
map(image_read) %>%
image_join() %>%
image_animate(fps=2)
list.files(path = "../pic/", pattern = "*.png", full.names = T) %>%
map(image_read) %>%
image_join() %>%
image_animate(fps=2) %>%
image_write("A1.gif")
model<-nnet(in_learning,out_learning,size=HIDDEN_NODES,linout = TRUE,rang = 0.1,skip=TRUE,maxit = ITERATION)
in_forecasting<-getDataSet(A3$전남,9,12,INPUT_NODES)
in_forecasting
out_learning<-getDataSet(A3$전남,5,12,OUTPUT_NODES)
out_learning
model<-nnet(in_learning,out_learning,size=HIDDEN_NODES,linout = TRUE,rang = 0.1,skip=TRUE,maxit = ITERATION)
out_learning
in_learning
out_learning<-getDataSet(A3$전남,9,12,OUTPUT_NODES)
out_learning
out_learning<-getDataSet(A3$전남,3,12,OUTPUT_NODES)
out_learning
in_learning<-getDataSet(A3$전남,1,5,INPUT_NODES)
in_learning
in_learning<-getDataSet(A3$전남,1,8,INPUT_NODES)
in_learning
out_learning<-getDataSet(A3$전남,3,10,OUTPUT_NODES)
out_learning
out_learning<-getDataSet(A3$전남,3,8,OUTPUT_NODES)
out_learning
out_learning<-getDataSet(A3$전남,3,9,OUTPUT_NODES)
out_learning
in_learning
out_learning<-getDataSet(A3$전남,3,8,OUTPUT_NODES)
out_learning
model<-nnet(in_learning,out_learning,size=HIDDEN_NODES,linout = TRUE,rang = 0.1,skip=TRUE,maxit = ITERATION)
in_forecasting<-getDataSet(A3$전남,9,12,INPUT_NODES)
in_forecasting
predicted_values<-predict(model,in_forecasting,type="raw")
predicted_values
real<-getDataSet(A3$전남,13,14,OUTPUT_NODES)
real
model<-nnet(in_learning,out_learning,size=HIDDEN_NODES,linout = TRUE,rang = 0.1,skip=TRUE,maxit = ITERATION)
predicted_values<-predict(model,in_forecasting,type="raw")
predicted_values
real
ERR<-abs(real-predicted_values)
MAPE<-mean(ERR/real)*100
MAPE
out_learning<-getDataSet(A3$전남,5,10,OUTPUT_NODES)
out_learning
model<-nnet(in_learning,out_learning,size=HIDDEN_NODES,linout = TRUE,rang = 0.1,skip=TRUE,maxit = ITERATION)
in_forecasting<-getDataSet(A3$전남,9,12,INPUT_NODES)
in_forecasting
predicted_values<-predict(model,in_forecasting,type="raw")
predicted_values
real
ERR<-abs(real-predicted_values)
MAPE<-mean(ERR/real)*100
MAPE
in_forecasting<-getDataSet(A3$전남,3,6,INPUT_NODES)
in_forecasting
predicted_values<-predict(model,in_forecasting,type="raw")
predicted_values
real<-getDataSet(A3$전남,13,14,OUTPUT_NODES)
real
ERR<-abs(real-predicted_values)
MAPE<-mean(ERR/real)*100
MAPE
real<-getDataSet(A3$전남,11,12,OUTPUT_NODES)
real
in_learning<-getDataSet(A3$전남,1,8,INPUT_NODES)
in_learning
out_learning<-getDataSet(A3$전남,3,10,OUTPUT_NODES)
out_learning
out_learning<-getDataSet(A3$전남,3,8,OUTPUT_NODES)
out_learning
model<-nnet(in_learning,out_learning,size=HIDDEN_NODES,linout = TRUE,rang = 0.1,skip=TRUE,maxit = ITERATION)
in_forecasting<-getDataSet(A3$전남,9,12,INPUT_NODES)
in_forecasting
predicted_values<-predict(model,in_forecasting,type="raw")
predicted_values
real<-getDataSet(A3$전남,13,14,OUTPUT_NODES)
real
real<-getDataSet(A3$전남,14,15,OUTPUT_NODES)
real
ERR<-abs(real-predicted_values)
MAPE<-mean(ERR/real)*100
MAPE
in_forecasting<-getDataSet(A3$전남,5,8,INPUT_NODES)
in_forecasting
predicted_values<-predict(model,in_forecasting,type="raw")
predicted_values
real<-getDataSet(A3$전남,10,11,OUTPUT_NODES)
real
real<-getDataSet(A3$전남,9,10,OUTPUT_NODES)
real
real<-getDataSet(A3$전남,8,9,OUTPUT_NODES)
real
ERR<-abs(real-predicted_values)
MAPE<-mean(ERR/real)*100
MAPE
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(raster)
library(rgeos)
library(maptools)
getwd()
A1 <- read.csv("../doc/hong1.csv")
A2 <- A1
A2[,2:ncol(A1)] <- t(apply(A1[,-1],1,function(x)cumsum(x))) #세로로 누적
View(A2)
A1 <- read.csv("../doc/hong1.csv")
A2 <- A1
View(A1)
A1 <- read.csv("../doc/hong1.csv")
A2 <- A1
A2[,2:ncol(A1)] <- t(apply(A1[,-1],1,function(x)cumsum(x))) #세로로 누적
View(A2)
A3 <- as.data.frame(apply(A1[,-1],1,function(x)cumsum(x)))
View(A3)
A2$id <- c(0:6,8:16,7) #merge용 id부여
A1 <- read.csv("../doc/hong1.csv")
A2 <- A1
A2[,2:ncol(A1)] <- t(apply(A1[,-1],1,function(x)cumsum(x))) #세로로 누적
A2$id <- c(0:6,8:16,7) #merge용 id부여
korea <- shapefile("../data/TL_SCCO_CTPRVN.shp")
korea <- shapefile("../data/TL_SCCO_CTPRVN.shp")
korea <- spTransform(korea,CRS("+proj=longlat"))
korea <- spTransform(korea,CRS("+proj=longlat"))
korea_map <- fortify(korea)
merge_result <- merge(korea_map,A2,by='id')
p <- ggplot() +
geom_polygon(data = merge_result,
aes(x=long,y=lat,group=group, fill = week1))+
scale_fill_gradient(low = 'white',high='orange')
p
ggsave(filename = paste0("../pic/OK_",1,".png"),
width = 7,height=7,dpi = 150)
p <- ggplot() +
geom_polygon(data = merge_result,
aes(x=long,y=lat,group=group, fill = week2))+
scale_fill_gradient(low = 'white',high='orange')
p
p
ggsave(filename = paste0("../pic/OK_",2,".png"),
width = 7,height=7,dpi = 150)
p <- ggplot() +
geom_polygon(data = merge_result,
aes(x=long,y=lat,group=group, fill = week3))+
scale_fill_gradient(low = 'white',high='orange')
p
ggsave(filename = paste0("../pic/OK_",3,".png"),
width = 7,height=7,dpi = 150)
p <- ggplot() +
geom_polygon(data = merge_result,
aes(x=long,y=lat,group=group, fill = week4))+
scale_fill_gradient(low = 'white',high='orange')
p
ggsave(filename = paste0("../pic/OK_",4,".png"),
width = 7,height=7,dpi = 150)
p <- ggplot() +
geom_polygon(data = merge_result,
aes(x=long,y=lat,group=group, fill = week5))+
scale_fill_gradient(low = 'white',high='orange')
p
p
ggsave(filename = paste0("../pic/OK_",5,".png"),
width = 7,height=7,dpi = 150)
p <- ggplot() +
geom_polygon(data = merge_result,
aes(x=long,y=lat,group=group, fill = week6))+
scale_fill_gradient(low = 'white',high='orange')
p
ggsave(filename = paste0("../pic/OK_",6,".png"),
width = 7,height=7,dpi = 150)
p <- ggplot() +
geom_polygon(data = merge_result,
aes(x=long,y=lat,group=group, fill = week7))+
scale_fill_gradient(low = 'white',high='orange')
p
ggsave(filename = paste0("../pic/OK_",7,".png"),
width = 7,height=7,dpi = 150)
p <- ggplot() +
geom_polygon(data = merge_result,
aes(x=long,y=lat,group=group, fill = week8))+
scale_fill_gradient(low = 'white',high='orange')
p
ggsave(filename = paste0("../pic/OK_",8,".png"),
width = 7,height=7,dpi = 150)
p <- ggplot() +
geom_polygon(data = merge_result,
aes(x=long,y=lat,group=group, fill = week9))+
scale_fill_gradient(low = 'white',high='orange')
p
ggsave(filename = paste0("../pic/OK_",9,".png"),
width = 7,height=7,dpi = 150)
p <- ggplot() +
geom_polygon(data = merge_result,
aes(x=long,y=lat,group=group, fill = week10))+
scale_fill_gradient(low = 'white',high='orange')
p
ggsave(filename = paste0("../pic/OK_",10,".png"),
width = 7,height=7,dpi = 150)
p <- ggplot() +
geom_polygon(data = merge_result,
aes(x=long,y=lat,group=group, fill = week11))+
scale_fill_gradient(low = 'white',high='orange')
p
ggsave(filename = paste0("../pic/OK_",11,".png"),
width = 7,height=7,dpi = 150)
p <- ggplot() +
geom_polygon(data = merge_result,
aes(x=long,y=lat,group=group, fill = week12))+
scale_fill_gradient(low = 'white',high='orange')
p
ggsave(filename = paste0("../pic/OK_",12,".png"),
width = 7,height=7,dpi = 150)
p <- ggplot() +
geom_polygon(data = merge_result,
aes(x=long,y=lat,group=group, fill = week13))+
scale_fill_gradient(low = 'white',high='orange')
p
ggsave(filename = paste0("../pic/OK_",13,".png"),
width = 7,height=7,dpi = 150)
p <- ggplot() +
geom_polygon(data = merge_result,
aes(x=long,y=lat,group=group, fill = week14))+
scale_fill_gradient(low = 'white',high='orange')
p
ggsave(filename = paste0("../pic/OK_",14,".png"),
width = 7,height=7,dpi = 150)
p <- ggplot() +
geom_polygon(data = merge_result,
aes(x=long,y=lat,group=group, fill = week15))+
scale_fill_gradient(low = 'white',high='orange')
p
ggsave(filename = paste0("../pic/OK_",15,".png"),
width = 7,height=7,dpi = 150)
list.files(path = "../pic/", pattern = "*.png", full.names = T) %>%
map(image_read) %>%
image_join() %>%
image_animate(fps=2) %>%
image_write("A1.gif")
list.files(path = "../pic/", pattern = "*.png", full.names = T) %>%
image_join() %>%
image_animate(fps=2) %>%
image_write("A1.gif")
list.files(path = "../pic/", pattern = "*.png", full.names = T)
list.files(path = "../pic/", pattern = "*.png", full.names = T)
library("curl", lib.loc="~/R/win-library/3.5")
install.packages("magick")
library(magick)
list.files(path = "../pic/", pattern = "*.png", full.names = T) %>%
image_join() %>%
image_animate(fps=2) %>%
image_write("A1.gif")
list.files(path = "../pic/", pattern = "*.png", full.names = T)
list.files(path = "../pic/", pattern = "*.png", full.names = T) %>%
image_animate(fps=2) %>%
image_write("A1.gif")
list.files(path = "../pic/", pattern = "*.png", full.names = T) %>%
image_join() %>%
image_animate(fps=2) %>%
image_write("A1.gif")
list.files(path = "../pic/", pattern = "*.png", full.names = T) %>%
image_join(.) %>%
image_animate(fps=2) %>%
image_write("A1.gif")
View(A2)
p <- ggplot() +
geom_polygon(data = merge_result,
aes(x=long,y=lat,group=group, fill = week15))+
legend(legend = 0:170)+
scale_fill_gradient(low = 'white',high='orange')
View(merge_result)
p <- ggplot() +
geom_polygon(data = merge_result,
aes(x=long,y=lat,group=group, fill = week15))+
legend(legend = 0:170)+
scale_fill_gradient(low = 'white',high='orange',breaks = C(0,150))
p <- ggplot() +
geom_polygon(data = merge_result,
aes(x=long,y=lat,group=group, fill = week15)) +
scale_fill_gradient(low = 'white',high='orange',breaks = C(0,150))
p <- ggplot() +
geom_polygon(data = merge_result,
aes(x=long,y=lat,group=group, fill = week15)) +
scale_fill_gradient(low = 'white',high='orange',breaks = c(0,150))
p
p <- ggplot() +
geom_polygon(data = merge_result,
aes(x=long,y=lat,group=group, fill = week1)) +
scale_fill_gradient(low = 'white',high='orange',breaks = c(0,160))
p
p <- ggplot() +
geom_polygon(data = merge_result,
aes(x=long,y=lat,group=group, fill = week1)) +
scale_fill_gradient(low = 'white',high='orange',breaks = c(seq(0,160,40)))
p
p <- ggplot() +
geom_polygon(data = merge_result,
aes(x=long,y=lat,group=group, fill = week1)) +
scale_fill_gradient(low = 'white',high='orange',limits = c(0,160)))
p <- ggplot() +
geom_polygon(data = merge_result,
aes(x=long,y=lat,group=group, fill = week1)) +
scale_fill_gradient(low = 'white',high='orange',limits = c(0,160))
p
ggsave(filename = paste0("../pic/OK_",1,".png"),
width = 7,height=7,dpi = 150)
p <- ggplot() +
geom_polygon(data = merge_result,
aes(x=long,y=lat,group=group, fill = week1)) +
scale_fill_gradient(low = 'white',high='orange',limits = c(0,160))
p
ggsave(filename = paste0("../pic/OK_",1,".png"),
width = 7,height=7,dpi = 150)
p <- ggplot() +
geom_polygon(data = merge_result,
aes(x=long,y=lat,group=group, fill = week2)) +
scale_fill_gradient(low = 'white',high='orange',limits = c(0,160))
p
ggsave(filename = paste0("../pic/OK_",2,".png"),
width = 7,height=7,dpi = 150)
p <- ggplot() +
geom_polygon(data = merge_result,
aes(x=long,y=lat,group=group, fill = week3)) +
scale_fill_gradient(low = 'white',high='orange',limits = c(0,160))
p
ggsave(filename = paste0("../pic/OK_",3,".png"),
width = 7,height=7,dpi = 150)
p <- ggplot() +
geom_polygon(data = merge_result,
aes(x=long,y=lat,group=group, fill = week4)) +
scale_fill_gradient(low = 'white',high='orange',limits = c(0,160))
p
ggsave(filename = paste0("../pic/OK_",4,".png"),
width = 7,height=7,dpi = 150)
p <- ggplot() +
geom_polygon(data = merge_result,
aes(x=long,y=lat,group=group, fill = week5)) +
scale_fill_gradient(low = 'white',high='orange',limits = c(0,160))
p
ggsave(filename = paste0("../pic/OK_",5,".png"),
width = 7,height=7,dpi = 150)
p <- ggplot() +
geom_polygon(data = merge_result,
aes(x=long,y=lat,group=group, fill = week6)) +
scale_fill_gradient(low = 'white',high='orange',limits = c(0,160))
p
ggsave(filename = paste0("../pic/OK_",6,".png"),
width = 7,height=7,dpi = 150)
p <- ggplot() +
geom_polygon(data = merge_result,
aes(x=long,y=lat,group=group, fill = week7)) +
scale_fill_gradient(low = 'white',high='orange',limits = c(0,160))
p
ggsave(filename = paste0("../pic/OK_",7,".png"),
width = 7,height=7,dpi = 150)
p <- ggplot() +
geom_polygon(data = merge_result,
aes(x=long,y=lat,group=group, fill = week9)) +
scale_fill_gradient(low = 'white',high='orange',limits = c(0,160))
p
ggsave(filename = paste0("../pic/OK_",9,".png"),
width = 7,height=7,dpi = 150)
p <- ggplot() +
geom_polygon(data = merge_result,
aes(x=long,y=lat,group=group, fill = week10)) +
scale_fill_gradient(low = 'white',high='orange',limits = c(0,160))
p
ggsave(filename = paste0("../pic/OK_",10,".png"),
width = 7,height=7,dpi = 150)
p <- ggplot() +
geom_polygon(data = merge_result,
aes(x=long,y=lat,group=group, fill = week11)) +
scale_fill_gradient(low = 'white',high='orange',limits = c(0,160))
p
ggsave(filename = paste0("../pic/OK_",11,".png"),
width = 7,height=7,dpi = 150)
p <- ggplot() +
geom_polygon(data = merge_result,
aes(x=long,y=lat,group=group, fill = week8)) +
scale_fill_gradient(low = 'white',high='orange',limits = c(0,160))
p
ggsave(filename = paste0("../pic/OK_",8,".png"),
width = 7,height=7,dpi = 150)
p <- ggplot() +
geom_polygon(data = merge_result,
aes(x=long,y=lat,group=group, fill = week10)) +
scale_fill_gradient(low = 'white',high='orange',limits = c(0,160))
p
ggsave(filename = paste0("../pic/OK_",10,".png"),
width = 7,height=7,dpi = 150)
p <- ggplot() +
geom_polygon(data = merge_result,
aes(x=long,y=lat,group=group, fill = week10)) +
scale_fill_gradient(low = 'white',high='orange',limits = c(0,160))
p
ggsave(filename = paste0("../pic/OK_",10,".png"),
width = 7,height=7,dpi = 150)
p <- ggplot() +
geom_polygon(data = merge_result,
aes(x=long,y=lat,group=group, fill = week11)) +
scale_fill_gradient(low = 'white',high='orange',limits = c(0,160))
p
ggsave(filename = paste0("../pic/OK_",11,".png"),
width = 7,height=7,dpi = 150)
p <- ggplot() +
geom_polygon(data = merge_result,
aes(x=long,y=lat,group=group, fill = week11)) +
scale_fill_gradient(low = 'white',high='orange',limits = c(0,160))
p
ggsave(filename = paste0("../pic/OK_",11,".png"),
width = 7,height=7,dpi = 150)
p <- ggplot() +
geom_polygon(data = merge_result,
aes(x=long,y=lat,group=group, fill = week12)) +
scale_fill_gradient(low = 'white',high='orange',limits = c(0,160))
p
ggsave(filename = paste0("../pic/OK_",12,".png"),
width = 7,height=7,dpi = 150)
p <- ggplot() +
geom_polygon(data = merge_result,
aes(x=long,y=lat,group=group, fill = week13)) +
scale_fill_gradient(low = 'white',high='orange',limits = c(0,160))
p
ggsave(filename = paste0("../pic/OK_",13,".png"),
width = 7,height=7,dpi = 150)
p <- ggplot() +
geom_polygon(data = merge_result,
aes(x=long,y=lat,group=group, fill = week14)) +
scale_fill_gradient(low = 'white',high='orange',limits = c(0,160))
p
ggsave(filename = paste0("../pic/OK_",14,".png"),
width = 7,height=7,dpi = 150)
p <- ggplot() +
geom_polygon(data = merge_result,
aes(x=long,y=lat,group=group, fill = week15)) +
scale_fill_gradient(low = 'white',high='orange',limits = c(0,160))
p
ggsave(filename = paste0("../pic/OK_",15,".png"),
width = 7,height=7,dpi = 150)
