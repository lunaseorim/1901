show.legend = F) +
coord_cartesian(xlim=c(126.75,127.22),
ylim=c(37.42,37.705)) +
scale_fill_gradient(low = '#90E4FF',high='#90E4FF',na.value = "white") +
theme_void() +
geom_point(aes(x = lon, y = lat),
size = 15,color="skyblue",alpha = 1, data = A4) +
coord_fixed(0.9)+
annotate("text",x=A4$lon,y=A4$lat,label = plotlab,
size=3,color="white")
----------------------------------------------------------------------------
ggplot() +
geom_polygon(data = merge_result,
aes(x=long,y=lat,group=group,fill = Freq),colour = "white",size=1,
show.legend = F) +
coord_cartesian(xlim=c(126.75,127.22),
ylim=c(37.42,37.705)) +
scale_fill_gradient(low = '#90E4FF',high='#90E4FF',na.value = "white") +
theme_void() +
geom_point(aes(x = lon, y = lat),
size = 15,color="skyblue",alpha = 1, data = A4) +
annotate("text",x=A4$lon,y=A4$lat,label = plotlab,
size=3,color="white")
ggplot() +
geom_polygon(data = merge_result,
aes(x=long,y=lat,group=group,fill = Freq),colour = "white",size=1,
show.legend = F) +
coord_cartesian(xlim=c(126.75,127.22),
ylim=c(37.42,37.705)) +
scale_fill_gradient(low = '#90E4FF',high='#90E4FF',na.value = "white") +
theme_void() +
geom_point(aes(x = lon, y = lat),
size = 15,color="skyblue",alpha = 1, data = A4) +
annotate("text",x=A4$lon,y=A4$lat,label = plotlab,
size=3,color="white")
ggplot() +
geom_polygon(data = merge_result,
aes(x=long,y=lat,group=group,fill = Freq),colour = "white",size=1,
show.legend = F) +
coord_cartesian(xlim=c(126.75,127.22),
ylim=c(37.42,37.705)) +
scale_fill_gradient(low = '#90E4FF',high='#90E4FF',na.value = "white") +
theme_void() +
geom_point(aes(x = 경도, y = 위도),
size = 15,color="skyblue",alpha = 1, data = A4) +
annotate("text",x=A4$lon,y=A4$lat,label = plotlab,
size=3,color="white")
str(A4)
A4$경도 <- as.numeric(A4$경도)
A4$위도 <- as.numeric(A4$위도)
ggplot() +
geom_polygon(data = merge_result,
aes(x=long,y=lat,group=group,fill = Freq),colour = "white",size=1,
show.legend = F) +
coord_cartesian(xlim=c(126.75,127.22),
ylim=c(37.42,37.705)) +
scale_fill_gradient(low = '#90E4FF',high='#90E4FF',na.value = "white") +
theme_void() +
geom_point(aes(x = 경도, y = 위도),
size = 15,color="skyblue",alpha = 1, data = A4) +
annotate("text",x=A4$lon,y=A4$lat,label = plotlab,
size=3,color="white")
ggplot() +
geom_polygon(data = merge_result,
aes(x=long,y=lat,group=group,fill = Freq),colour = "white",size=1,
show.legend = F) +
coord_cartesian(xlim=c(126.75,127.22),
ylim=c(37.42,37.705)) +
scale_fill_gradient(low = '#90E4FF',high='#90E4FF',na.value = "white") +
theme_void() +
geom_point(aes(x = 경도, y = 위도),
size = 15,color="skyblue",alpha = 1, data = A4) +
annotate("text",x=A4$경도,y=A4$위도,label = plotlab,
size=3,color="white")
ggplot() +
geom_polygon(data = merge_result,
aes(x=long,y=lat,group=group,fill = Freq),colour = "black",size=1,
show.legend = F) +
coord_cartesian(xlim=c(126.75,127.22),
ylim=c(37.42,37.705)) +
scale_fill_gradient(low = '#90E4FF',high='#90E4FF',na.value = "white") +
theme_void() +
geom_point(aes(x = 경도, y = 위도),
size = 15,color="skyblue",alpha = 1, data = A4) +
annotate("text",x=A4$경도,y=A4$위도,label = plotlab,
size=3,color="white")
ggplot() +
geom_polygon(data = merge_result,
aes(x=long,y=lat,group=group,fill = Freq),colour = "white",size=1,
show.legend = F) +
coord_cartesian(xlim=c(126.75,127.22),
ylim=c(37.42,37.705)) +
scale_fill_gradient(low = '#90E4FF',high='#90E4FF',na.value = "white") +
theme_void() +
geom_point(aes(x = 경도, y = 위도),
size = 15,color="skyblue",alpha = 1, data = A4) +
annotate("text",x=A4$경도,y=A4$위도,label = plotlab,
size=3,color="white")
ggplot() +
geom_polygon(data = merge_result,
aes(x=long,y=lat,group=group,fill = Freq),colour = "white",size=1,
show.legend = F) +
coord_cartesian(xlim=c(126.75,127.22),
ylim=c(37.38,37.705)) +
scale_fill_gradient(low = '#90E4FF',high='#90E4FF',na.value = "white") +
theme_void() +
geom_point(aes(x = 경도, y = 위도),
size = 15,color="skyblue",alpha = 1, data = A4) +
annotate("text",x=A4$경도,y=A4$위도,label = plotlab,
size=3,color="white")
ggplot() +
geom_polygon(data = merge_result,
aes(x=long,y=lat,group=group,fill = Freq),colour = "white",size=1,
show.legend = F) +
coord_cartesian(xlim=c(126.75,127.22),
ylim=c(37.42,37.69)) +
scale_fill_gradient(low = '#90E4FF',high='#90E4FF',na.value = "white") +
theme_void() +
geom_point(aes(x = 경도, y = 위도),
size = 15,color="skyblue",alpha = 1, data = A4) +
annotate("text",x=A4$경도,y=A4$위도,label = plotlab,
size=3,color="white")
ggplot() +
geom_polygon(data = merge_result,
aes(x=long,y=lat,group=group,fill = Freq),colour = "white",size=1,
show.legend = F) +
coord_cartesian(xlim=c(126.75,127.22),
ylim=c(37.42,37.61)) +
scale_fill_gradient(low = '#90E4FF',high='#90E4FF',na.value = "white") +
theme_void() +
geom_point(aes(x = 경도, y = 위도),
size = 15,color="skyblue",alpha = 1, data = A4) +
annotate("text",x=A4$경도,y=A4$위도,label = plotlab,
size=3,color="white")
ggplot() +
geom_polygon(data = merge_result,
aes(x=long,y=lat,group=group,fill = Freq),colour = "white",size=1,
show.legend = F) +
coord_cartesian(xlim=c(126.75,127.22),
ylim=c(37.42,37.71)) +
scale_fill_gradient(low = '#90E4FF',high='#90E4FF',na.value = "white") +
theme_void() +
geom_point(aes(x = 경도, y = 위도),
size = 15,color="skyblue",alpha = 1, data = A4) +
annotate("text",x=A4$경도,y=A4$위도,label = plotlab,
size=3,color="white")
ggplot() +
geom_polygon(data = merge_result,
aes(x=long,y=lat,group=group,fill = Freq),colour = "white",size=1,
show.legend = F) +
coord_cartesian(xlim=c(126.75,127.22),
ylim=c(37.42,37.71)) +
scale_fill_gradient(low = '#90E4FF',high='#90E4FF',na.value = "white") +
theme_void() +
geom_point(aes(x = 경도, y = 위도),
size = 15,color="skyblue",alpha = 1, data = A4) +
annotate("text",x=A4$경도,y=A4$위도,label = plotlab,
size=3,color="white")
ggplot() +
geom_polygon(data = merge_result,
aes(x=long,y=lat,group=group,fill = Freq),colour = "white",size=1,
show.legend = F) +
coord_cartesian(xlim=c(126.75,127.22),
ylim=c(37.42,37.705)) +
scale_fill_gradient(low = '#90E4FF',high='#90E4FF',na.value = "white") +
theme_void() +
geom_point(aes(x = 경도, y = 위도),
size = 15,color="skyblue",alpha = 1, data = A4) +
annotate("text",x=A4$경도,y=A4$위도,label = plotlab,
size=3,color="white")
rm(img)
rm(bin)
rm(packs)
ggplot() +
geom_polygon(data = merge_result,
aes(x=long,y=lat,group=group,fill = Freq),colour = "white",size=0.7,
show.legend = F) +
coord_cartesian(xlim=c(126.75,127.22),
ylim=c(37.42,37.705)) +
scale_fill_gradient(low = '#90E4FF',high='#90E4FF',na.value = "white") +
theme_void() +
geom_point(aes(x = 경도, y = 위도),
size = 15,color="skyblue",alpha = 1, data = A4) +
annotate("text",x=A4$경도,y=A4$위도,label = plotlab,
size=3,color="white")
ggplot() +
geom_polygon(data = merge_result,
aes(x=long,y=lat,group=group,fill = Freq),colour = "white",size=0.8,
show.legend = F) +
coord_cartesian(xlim=c(126.75,127.22),
ylim=c(37.42,37.705)) +
scale_fill_gradient(low = '#90E4FF',high='#90E4FF',na.value = "white") +
theme_void() +
geom_point(aes(x = 경도, y = 위도),
size = 15,color="skyblue",alpha = 1, data = A4) +
annotate("text",x=A4$경도,y=A4$위도,label = plotlab,
size=3,color="white")
ggmap(seoulm,legend ='none') +
geom_point(aes(x = lon, y = lat),
size = 35,color="skyblue",
alpha = 0.8, data = A4, stroke = 1) +
annotate("text",x=A4$lon,y=A4$lat,label = plotlab,
size=5,color="white")
ggplot() +
geom_polygon(data = merge_result,
aes(x=long,y=lat,group=group,fill = Freq),colour = "white",size=0.8,
show.legend = F) +
coord_cartesian(xlim=c(126.75,127.22),
ylim=c(37.42,37.705)) +
scale_fill_gradient(low = '#90E4FF',high='#90E4FF',na.value = "white") +
theme_void() +
geom_point(aes(x = 경도, y = 위도),
size = 15,color="skyblue",alpha = 1, data = A4, stroke = 1) +
annotate("text",x=A4$경도,y=A4$위도,label = plotlab,
size=3,color="white")
ggplot() +
geom_polygon(data = merge_result,
aes(x=long,y=lat,group=group,fill = Freq),colour = "white",size=0.8,
show.legend = F) +
coord_cartesian(xlim=c(126.75,127.22),
ylim=c(37.42,37.705)) +
scale_fill_gradient(low = '#90E4FF',high='#90E4FF',na.value = "white") +
theme_void() +
geom_point(aes(x = 경도, y = 위도),
size = 15,color="skyblue",alpha = 1, data = A4,
pch = 21,stroke = 1) +
annotate("text",x=A4$경도,y=A4$위도,label = plotlab,
size=3,color="white")
ggplot() +
geom_polygon(data = merge_result,
aes(x=long,y=lat,group=group,fill = Freq),colour = "white",size=0.8,
show.legend = F) +
coord_cartesian(xlim=c(126.75,127.22),
ylim=c(37.42,37.705)) +
scale_fill_gradient(low = '#90E4FF',high='#90E4FF',na.value = "white") +
theme_void() +
geom_point(aes(x = 경도, y = 위도),
size = 15,color="skyblue",alpha = 1, data = A4) +
scale_colour_manual(values = cols) +
annotate("text",x=A4$경도,y=A4$위도,label = plotlab,
size=3,color="white")
ggplot() +
geom_polygon(data = merge_result,
aes(x=long,y=lat,group=group,fill = Freq),colour = "white",size=0.8,
show.legend = F) +
coord_cartesian(xlim=c(126.75,127.22),
ylim=c(37.42,37.705)) +
scale_fill_gradient(low = '#90E4FF',high='#90E4FF',na.value = "white") +
theme_void() +
geom_point(aes(x = 경도, y = 위도),
size = 15,color="skyblue",alpha = 1, data = A4) +
scale_colour_manual(values = "skyblue") +
annotate("text",x=A4$경도,y=A4$위도,label = plotlab,
size=3,color="white")
ggplot() +
geom_polygon(data = merge_result,
aes(x=long,y=lat,group=group,fill = Freq),colour = "white",size=0.8,
show.legend = F) +
coord_cartesian(xlim=c(126.75,127.22),
ylim=c(37.42,37.705)) +
scale_fill_gradient(low = '#90E4FF',high='#90E4FF',na.value = "white") +
theme_void() +
geom_point(aes(x = 경도, y = 위도),
size = 15,shape = 21 data = A4) +
scale_colour_manual(values = "skyblue") +
annotate("text",x=A4$경도,y=A4$위도,label = plotlab,
size=3,color="white")
ggplot() +
geom_polygon(data = merge_result,
aes(x=long,y=lat,group=group,fill = Freq),colour = "white",size=0.8,
show.legend = F) +
coord_cartesian(xlim=c(126.75,127.22),
ylim=c(37.42,37.705)) +
scale_fill_gradient(low = '#90E4FF',high='#90E4FF',na.value = "white") +
theme_void() +
geom_point(aes(x = 경도, y = 위도),
size = 15,shape = 21 data = A4) +
scale_colour_manual(values = "skyblue") +
annotate("text",x=A4$경도,y=A4$위도,label = plotlab,
size=3,color="white")
ggplot() +
geom_polygon(data = merge_result,
aes(x=long,y=lat,group=group,fill = Freq),colour = "white",size=0.8,
show.legend = F) +
coord_cartesian(xlim=c(126.75,127.22),
ylim=c(37.42,37.705)) +
scale_fill_gradient(low = '#90E4FF',high='#90E4FF',na.value = "white") +
theme_void() +
geom_point(aes(x = 경도, y = 위도),
size = 15,shape = 21 ,data = A4) +
scale_colour_manual(values = "skyblue") +
annotate("text",x=A4$경도,y=A4$위도,label = plotlab,
size=3,color="white")
ggplot() +
geom_polygon(data = merge_result,
aes(x=long,y=lat,group=group,fill = Freq),colour = "white",size=0.8,
show.legend = F) +
coord_cartesian(xlim=c(126.75,127.22),
ylim=c(37.42,37.705)) +
scale_fill_gradient(low = '#90E4FF',high='#90E4FF',na.value = "white") +
theme_void() +
geom_point(aes(x = 경도, y = 위도),
size = 15,shape = 21 ,data = A4) +
geom_point(aes(x = 경도, y = 위도),
size = 15,color = "skyblue",data = A4)
ggplot() +
geom_polygon(data = merge_result,
aes(x=long,y=lat,group=group,fill = Freq),colour = "white",size=0.8,
show.legend = F) +
coord_cartesian(xlim=c(126.75,127.22),
ylim=c(37.42,37.705)) +
scale_fill_gradient(low = '#90E4FF',high='#90E4FF',na.value = "white") +
theme_void() +
geom_point(aes(x = 경도, y = 위도),
size = 15,shape = 21 ,data = A4) +
geom_point(aes(x = 경도, y = 위도),
size = 15,color = "skyblue",data = A4) +
annotate("text",x=A4$경도,y=A4$위도,label = plotlab,
size=3,color="white")
ggplot() +
geom_polygon(data = merge_result,
aes(x=long,y=lat,group=group,fill = Freq),colour = "white",size=0.8,
show.legend = F) +
coord_cartesian(xlim=c(126.75,127.22),
ylim=c(37.42,37.705)) +
scale_fill_gradient(low = '#90E4FF',high='#90E4FF',na.value = "white") +
theme_void() +
geom_point(aes(x = 경도, y = 위도),
size = 15,color="skyblue",alpha = 1, data = A4) +
annotate("text",x=A4$경도,y=A4$위도,label = plotlab,
size=3,color="white")
seoulm_1
##GGAMP
seoulm <- get_map('seoul',zoom=12,maptype = 'roadmap',color = "bw")
ggmap(seoulm,legend ='none') +
geom_point(aes(x = lon, y = lat),
size = 35,color="skyblue",alpha = 0.8, data = A4) +
annotate("text",x=A4$lon,y=A4$lat,label = plotlab,
size=5,color="white")
ggmap(seoulm,legend ='none') +
geom_point(aes(x = lon, y = lat),
size = 15,color="skyblue",alpha = 0.8, data = A4) +
annotate("text",x=A4$lon,y=A4$lat,label = plotlab,
size=5,color="white")
rm(circ_x)
rm(ccirc_y)
rm(circ_y)
rm(key)
View(g)
rm(g)
rm(r)
colnames(geocode_center)[1]
View(A3)
A1 <- readxl::read_xlsx("../doc/관광지.xlsx.")
View(A1)
View(A1)
library(readxl)
merge_result <- merge(seoul_map,A3,by='id')
View(A3)
View(seoul_map)
colnames(A3)
str(colnames(A3))
str(colnames(seoul_map))
colnames(A3) <- c("Var1","Freq","id")
str)A
str(A3)
str(seoul_map)
View(A3)
A3 <- as.data.frame(A3)
str(A3)
A3$Freq <- as.numeric(A3$Freq)
A3$id <- as.numeric(A3$id)
View(A4)
View(seoul_map)
A3$id
str(A3$id)
names(A3)[1]
names(A3)[3]
names(A3)[3] <- cap1
names(A3)[3] <- "cap"
#SET LOCALE ID
A3 <- read.csv("../doc/12.csv")
#SET LOCALE ID
A3 <- read.csv("../doc/12.csv")
A3[26:250,3] <- 25:249
str(names(A3))
#SET LOCALE ID
A3 <- read.csv("../doc/12.csv")
A3[26:250,3] <- 25:249
A3_1 <- data.frame(Var1 = NA,
Freq = NA,
id = 25:249)
View(A3_1)
A3<- cbind(A3,A3_1)
A3<- rbind(A3,A3_1)
colnames(geocode_center)[1]
httpResponse <- GET(url =
paste0("https://api.bigdatahub.co.kr/v1/datahub/datasets/search.json?pid=1000908",
"&$count=25"),
add_headers(TDCAccessKey='**SKT_BIG_DATA_HUB_API_KEY'),
accept_json())
getapi_data = fromJSON(content(httpResponse, "text"))
geocode_center <- getapi_data$entry[-1]
View(A4)
A1 <- read_xlsx("../doc/관광지.xlsx.")
library(ggplot2)
#library(ggmap)
library(plyr)
library(ggforce)
library(reshape2)
library(rgeos)
library(maptools)
library(raster)
library(readxl)
#key <- "*"
#register_google(key = key)
A1 <- read_xlsx("../doc/관광지.xlsx.")
getwd()
A1 <- read_xlsx("doc/관광지.xlsx.")
A2 <- as.data.frame(table(A1$`행정 구`))
str(A2)
#SET LOCALE ID
A3 <- read.csv("doc/12.csv")
A3_1 <- data.frame(Var1 = NA,
Freq = NA,
id = 25:249)
A3<- rbind(A3,A3_1)
seoul <- shapefile("../data/TL_SCCO_SIG.shp")
seoul <- shapefile("data/TL_SCCO_SIG.shp")
seoul <- spTransform(seoul,CRS("+proj=longlat"))
seoul_map <- fortify(seoul)
merge_result <- merge(A3,seoul_map,by="id")
library(httr)
library(jsonlite)
httpResponse <- GET(url =
paste0("https://api.bigdatahub.co.kr/v1/datahub/datasets/search.json?pid=1000908",
"&$count=25"),
add_headers(TDCAccessKey='55c155bca4d4ec0e16d51838827125e3f5906f9846db003df03d5f7fd2a7edba'),
accept_json())
getapi_data = fromJSON(content(httpResponse, "text"))
geocode_center <- getapi_data$entry[-1]
View(geocode_center)
#SET GEOCODE_CENTER
A4 <- merge(A4,geocode_center,by.x = "Var1",by.y="구")
A4 <- A2
#SET GEOCODE_CENTER
A4 <- merge(A4,geocode_center,by.x = "Var1",by.y="구")
#CIRCLE
plotlab <- paste0(A2$Var1,"\n",A2$Freq)
ggplot() +
geom_polygon(data = merge_result,
aes(x=long,y=lat,group=group,fill = Freq),colour = "white",size=0.8,
show.legend = F) +
coord_cartesian(xlim=c(126.75,127.22),
ylim=c(37.42,37.705)) +
scale_fill_gradient(low = '#90E4FF',high='#90E4FF',na.value = "white") +
theme_void() +
geom_point(aes(x = 경도, y = 위도),
size = 15,color="skyblue",alpha = 1, data = A4) +
annotate("text",x=A4$경도,y=A4$위도,label = plotlab,
size=3,color="whi`te")
ggplot() +
geom_polygon(data = merge_result,
aes(x=long,y=lat,group=group,fill = Freq),colour = "white",size=0.8,
show.legend = F) +
coord_cartesian(xlim=c(126.75,127.22),
ylim=c(37.42,37.705)) +
scale_fill_gradient(low = '#90E4FF',high='#90E4FF',na.value = "white") +
theme_void() +
geom_point(aes(x = 경도, y = 위도),
size = 15,color="skyblue",alpha = 1, data = A4) +
annotate("text",x=A4$경도,y=A4$위도,label = plotlab,
size=3,color="white")
str(A4)
#SET GEOCODE_CENTER
A4 <- merge(A4,as.numeric(geocode_center),by.x = "Var1",by.y="구")
geocode_center <- as.numeric(geocode_center)
str(geocode_center)
geocode_center[,2:3] <- as.numeric(geocode_center[,2:3])
geocode_center$경도 <- as.numeric(geocode_center$경도)
geocode_center$위도 <- as.numeric(geocode_center$위도)
#SET GEOCODE_CENTER
A4 <- merge(A4,,by.x = "Var1",by.y="구")
#SET GEOCODE_CENTER
A4 <- merge(A4,geocode_center,by.x = "Var1",by.y="구")
ggplot() +
geom_polygon(data = merge_result,
aes(x=long,y=lat,group=group,fill = Freq),colour = "white",size=0.8,
show.legend = F) +
coord_cartesian(xlim=c(126.75,127.22),
ylim=c(37.42,37.705)) +
scale_fill_gradient(low = '#90E4FF',high='#90E4FF',na.value = "white") +
theme_void() +
geom_point(aes(x = 경도, y = 위도),
size = 15,color="skyblue",alpha = 1, data = A4) +
annotate("text",x=A4$경도,y=A4$위도,label = plotlab,
size=3,color="white")
A4 <- A2
#SET GEOCODE_CENTER
A4 <- merge(A4,geocode_center,by.x = "Var1",by.y="구")
ggplot() +
geom_polygon(data = merge_result,
aes(x=long,y=lat,group=group,fill = Freq),colour = "white",size=0.8,
show.legend = F) +
coord_cartesian(xlim=c(126.75,127.22),
ylim=c(37.42,37.705)) +
scale_fill_gradient(low = '#90E4FF',high='#90E4FF',na.value = "white") +
theme_void() +
geom_point(aes(x = 경도, y = 위도),
size = 15,color="skyblue",alpha = 1, data = A4) +
annotate("text",x=A4$경도,y=A4$위도,label = plotlab,
size=3,color="white")
